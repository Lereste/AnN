<div class="product-list">
  <cdk-virtual-scroll-viewport
    [itemSize]="rowHeight"
    class="product-list-viewport"
   >
    <ng-container *cdkVirtualFor="let row of productRows">
      <ng-container *ngIf="row !== 'button'">
        <div class="product-row">
          <ng-container *ngFor="let product of row">
            <div class="product-card" *ngIf="product">
              <div class="product-image">
                <img [src]="product?.image" [alt]="product?.name" />
                <button class="favorite-btn">
                  <span>&#9825;</span>
                </button>
              </div>
              <div class="product-info">
                <div class="product-title">{{ product?.name }}</div>
                <div class="product-price">${{ product?.priceDiscount }}</div>
                <button class="buy-btn">Buy Now</button>
              </div>
            </div>
          </ng-container>
        </div>
      </ng-container>
      <div *ngIf="row === 'button'" class="load-more-container">
        <button *ngIf="showLoadMore" class="load-more-btn" (click)="onLoadMoreClick()">
          Xem thêm sản phẩm
        </button>
        <span *ngIf="!showLoadMore" class="no-more-products">Đã hiển thị hết sản phẩm</span>
      </div>
    </ng-container>
  </cdk-virtual-scroll-viewport>
</div>
